{"version":3,"file":"simulant.umd.js","sources":["../src/maps.js","../src/utils/extendWithKeyboardParams.js","../src/modes/ancient.js","../src/modes/legacy.js","../src/modes/modern.js","../src/utils/polyfill.js","../src/simulant.js"],"sourcesContent":["export var defaults = {\n\tbubbles:       true,\n\tcancelable:    true,\n\tview:          window,\n\tdetail:        null,\n\tscreenX:       0,\n\tscreenY:       0,\n\tclientX:       0,\n\tclientY:       0,\n\tctrlKey:       false,\n\taltKey:        false,\n\tshiftKey:      false,\n\tmetaKey:       false,\n\tbutton:        0,\n\trelatedTarget: null,\n\tlocale:        '',\n\toldURL:        '',\n\tnewURL:        '',\n\torigin:        '',\n\tlastEventId:   '',\n\tsource:        null,\n\tports:         [],\n\toldValue:      null,\n\tnewValue:      null,\n\turl:           '',\n\tstorageArea:   null,\n\tdeltaX:        0,\n\tdeltaY:        0,\n\tdeltaZ:        0,\n\tdeltaMode:     0\n};\n\n\n// TODO remove the ones that aren't supported in any browser\nvar eventTypesByGroup = {\n\tUIEvent:                     'abort error resize scroll select unload',\n\tEvent:                       'afterprint beforeprint cached canplay canplaythrough change chargingchange chargingtimechange checking close dischargingtimechange DOMContentLoaded downloading durationchange emptied ended fullscreenchange fullscreenerror input invalid levelchange loadeddata loadedmetadata noupdate obsolete offline online open orientationchange pause pointerlockchange pointerlockerror play playing ratechange readystatechange reset seeked seeking stalled submit success suspend timeupdate updateready visibilitychange volumechange waiting',\n\tAnimationEvent:              'animationend animationiteration animationstart',\n\tAudioProcessingEvent:        'audioprocess',\n\tBeforeUnloadEvent:           'beforeunload',\n\tTimeEvent:                   'beginEvent endEvent repeatEvent',\n\tFocusEvent:                  'blur focus focusin focusout',\n\tMouseEvent:                  'click contextmenu dblclick mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup show',\n\tSensorEvent:                 'compassneedscalibration userproximity',\n\tOfflineAudioCompletionEvent: 'complete',\n\tCompositionEvent:            'compositionend compositionstart compositionupdate',\n\tClipboardEvent:              'copy cut paste',\n\tDeviceLightEvent:            'devicelight',\n\tDeviceMotionEvent:           'devicemotion',\n\tDeviceOrientationEvent:      'deviceorientation',\n\tDeviceProximityEvent:        'deviceproximity',\n\tDragEvent:                   'drag dragend dragenter dragleave dragover dragstart drop',\n\tGamepadEvent:                'gamepadconnected gamepaddisconnected',\n\tHashChangeEvent:             'hashchange',\n\tKeyboardEvent:               'keydown keypress keyup',\n\tProgressEvent:               'loadend loadstart progress timeout',\n\tMessageEvent:                'message',\n\tPageTransitionEvent:         'pagehide pageshow',\n\tPopStateEvent:               'popstate',\n\tStorageEvent:                'storage',\n\tSVGEvent:                    'SVGAbort SVGError SVGLoad SVGResize SVGScroll SVGUnload',\n\tSVGZoomEvent:                'SVGZoom',\n\tTouchEvent:                  'touchcancel touchend touchenter touchleave touchmove touchstart',\n\tTransitionEvent:             'transitionend',\n\tWheelEvent:                  'wheel'\n};\n\nexport var eventGroupByType = {};\n\nObject.keys( eventTypesByGroup ).forEach( group => {\n\tvar types = eventTypesByGroup[ group ].split( ' ' );\n\n\ttypes.forEach( t => {\n\t\teventGroupByType[t] = group;\n\t});\n});\n\n\n// The parameters required by event constructors and init methods, in the order the init methods need them.\n\n// There is no initKeyboardEvent or initKeyEvent here. Keyboard events are a goddamned mess. You can't fake them\n// well in any browser - the which and keyCode properties are readonly, for example. So we don't actually use the\n// KeyboardEvent constructor, or the initKeyboardEvent or initKeyEvent methods. Instead we use a bog standard\n// Event and add the required parameters as expando properties.\n\n// TODO I think in some browsers we need to use modifiersList instead of ctrlKey/shiftKey etc?\nexport var initialiserParams = {\n\tinitUIEvent:          'view detail',\n\tinitMouseEvent:       'view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget',\n\tinitTouchEvent:       'view detail touches targetTouches changedTouches ctrlKey altKey shiftKey metaKey',\n\tinitCompositionEvent: 'view detail data locale',\n\tinitHashChangeEvent:  'oldURL newURL',\n\tinitMessageEvent:     'data origin lastEventId source ports',\n\tinitStorageEvent:     'key oldValue newValue url storageArea',\n\tinitWheelEvent:       'view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget deltaX deltaY deltaZ deltaMode'\n};\n\nObject.keys( initialiserParams ).forEach( initMethod => {\n\tinitialiserParams[ initMethod ] = initialiserParams[ initMethod ].split( ' ' );\n});\n\n\nexport var initialisersByGroup = {\n\tUIEvent:             [ window.UIEvent,             'initUIEvent'          ],\n\tEvent:               [ window.Event,               'initEvent'            ],\n\tFocusEvent:          [ window.FocusEvent,          'initUIEvent'          ],\n\tMouseEvent:          [ window.MouseEvent,          'initMouseEvent'       ],\n\tCompositionEvent:    [ window.CompositionEvent,    'initCompositionEvent' ],\n\tHashChangeEvent:     [ window.HashChangeEvent,     'initHashChangeEvent'  ],\n\tKeyboardEvent:       [ window.Event,               'initEvent'            ],\n\tProgressEvent:       [ window.ProgressEvent,       'initEvent'            ],\n\tMessageEvent:        [ window.MessageEvent,        'initMessageEvent'     ], // TODO prefixed?\n\tPageTransitionEvent: [ window.PageTransitionEvent, 'initEvent'            ],\n\tPopStateEvent:       [ window.PopStateEvent,       'initEvent'            ],\n\tStorageEvent:        [ window.StorageEvent,        'initStorageEvent'     ],\n\tTouchEvent:          [ window.TouchEvent,          'initTouchEvent'       ],\n\tWheelEvent:          [ window.WheelEvent,          'initWheelEvent'       ] // TODO this differs between browsers...\n};\n","const keyboardParams = [ 'altKey', 'charCode', 'code', 'ctrlKey', 'isComposing', 'key', 'keyCode', 'keyIdentifier', 'location', 'metaKey', 'repeat', 'shiftKey', 'which' ];\n\nexport default function extendWithKeyboardParams ( event, params = {} ) {\n\tlet i = keyboardParams.length;\n\twhile ( i-- ) {\n\t\tevent[ keyboardParams[i] ] = params[ keyboardParams[i] ];\n\t}\n}\n","import { defaults, eventGroupByType, initialisersByGroup, initialiserParams } from '../maps.js';\nimport extendWithKeyboardParams from '../utils/extendWithKeyboardParams.js';\n\nexport default function () {\n\tfunction makeInitialiser ( methodName, paramsList ) {\n\t\treturn function ( event, type, params ) {\n\t\t\tevent.type = type;\n\n\t\t\tlet i = paramsList.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tconst paramName = paramsList[i];\n\t\t\t\tevent[ paramName ] = params[ paramName ] || defaults[ paramName ];\n\t\t\t}\n\t\t};\n\t}\n\n\tlet initialisers = {};\n\tlet methodName;\n\n\tfor ( methodName in initialiserParams ) {\n\t\tif ( initialiserParams.hasOwnProperty( methodName ) ) {\n\t\t\tinitialisers[ methodName ] = makeInitialiser( methodName, initialiserParams[ methodName ] );\n\t\t}\n\t}\n\n\tinitialisers.initEvent = makeInitialiser( 'initEvent', [] );\n\n\tfunction simulant ( type, params ) {\n\t\tlet group = eventGroupByType[ type ];\n\t\tlet isKeyboardEvent;\n\n\t\tif ( group === 'KeyboardEvent' ) {\n\t\t\tisKeyboardEvent = true;\n\t\t\tgroup = 'Event';\n\t\t}\n\n\t\tconst initialiserName = initialisersByGroup[ group ][1];\n\t\tconst initialise = initialisers[ initialiserName ];\n\n\t\tlet event = document.createEventObject();\n\t\tinitialise( event, type, params || {} );\n\n\t\tif ( isKeyboardEvent ) {\n\t\t\textendWithKeyboardParams( event, params );\n\t\t}\n\n\t\treturn event;\n\t}\n\n\tsimulant.mode = 'ancient';\n\treturn simulant;\n}\n","import { defaults, eventGroupByType, initialisersByGroup, initialiserParams } from '../maps.js';\nimport extendWithKeyboardParams from '../utils/extendWithKeyboardParams.js';\n\nexport default function () {\n\tfunction makeInitialiser ( methodName, paramsList ) {\n\t\treturn function ( event, type, params ) {\n\t\t\tvar args;\n\n\t\t\t// first three args are always `type`, `bubbles`, `cancelable`\n\t\t\targs = [ type, true, true ]; // TODO some events don't bubble?\n\n\t\t\tparamsList.forEach( paramName => {\n\t\t\t\targs.push( params[ paramName ] || defaults[ paramName ] );\n\t\t\t});\n\n\t\t\tevent[ methodName ].apply( event, args );\n\t\t};\n\t}\n\n\tlet initialisers = {};\n\n\tObject.keys( initialiserParams ).forEach( methodName => {\n\t\tinitialisers[ methodName ] = makeInitialiser( methodName, initialiserParams[ methodName ] );\n\t});\n\n\tinitialisers.initEvent = makeInitialiser( 'initEvent', [] );\n\n\tfunction simulant ( type, params ) {\n\t\tvar event, group, initialiserName, initialise, isKeyboardEvent;\n\n\t\tgroup = eventGroupByType[ type ];\n\n\t\tif ( group === 'KeyboardEvent' ) {\n\t\t\tisKeyboardEvent = true;\n\t\t\tgroup = 'Event';\n\t\t}\n\n\t\tinitialiserName = initialisersByGroup[ group ][1];\n\t\tinitialise = initialisers[ initialiserName ];\n\n\t\tevent = document.createEvent( group );\n\t\tinitialise( event, type, params || {} );\n\n\t\tif ( isKeyboardEvent ) {\n\t\t\textendWithKeyboardParams( event, params );\n\t\t}\n\n\t\treturn event;\n\t}\n\n\tsimulant.mode = 'legacy';\n\treturn simulant;\n}\n","import { defaults, eventGroupByType, initialisersByGroup, initialiserParams } from '../maps.js';\nimport extendWithKeyboardParams from '../utils/extendWithKeyboardParams.js';\n\nexport default function () {\n\tfunction simulant ( type, params = {} ) {\n\t\tlet group = eventGroupByType[ type ];\n\t\tlet isKeyboardEvent;\n\n\t\tif ( group === 'KeyboardEvent' ) {\n\t\t\tgroup = 'Event'; // because you can't fake KeyboardEvents well in any browser\n\t\t\tisKeyboardEvent = true;\n\t\t}\n\n\t\tconst initialiser = ( initialisersByGroup[ group ] || initialisersByGroup.Event );\n\n\t\tconst Constructor = initialiser[0] || window.Event;\n\t\tconst method = initialiser[1];\n\n\t\tlet extendedParams = {\n\t\t\tbubbles: true, // TODO some events don't bubble?\n\t\t\tcancelable: true\n\t\t};\n\n\t\tconst paramsList = initialiserParams[ method ];\n\t\tlet i = ( paramsList ? paramsList.length : 0 );\n\n\t\twhile ( i-- ) {\n\t\t\tconst paramName = paramsList[i];\n\t\t\textendedParams[ paramName ] = ( paramName in params ? params[ paramName ] : defaults[ paramName ] );\n\t\t}\n\n\t\tlet event = new Constructor( type, extendedParams );\n\n\t\tif ( isKeyboardEvent ) {\n\t\t\textendWithKeyboardParams( event, params );\n\t\t}\n\n\t\treturn event;\n\t}\n\n\tsimulant.mode = 'modern';\n\treturn simulant;\n}\n","export default function polyfill () {\n\t// https://gist.github.com/Rich-Harris/6010282 via https://gist.github.com/jonathantneal/2869388\n\t// addEventListener polyfill IE6+\n\tvar Event, addEventListener, removeEventListener, head, style;\n\n\tEvent = function ( e, element ) {\n\t\tvar property, instance = this;\n\n\t\tfor ( property in e ) {\n\t\t\tinstance[ property ] = e[ property ];\n\t\t}\n\n\t\tinstance.currentTarget =  element;\n\t\tinstance.target = e.srcElement || element;\n\t\tinstance.timeStamp = +new Date();\n\n\t\tinstance.preventDefault = function () {\n\t\t\te.returnValue = false;\n\t\t};\n\n\t\tinstance.stopPropagation = function () {\n\t\t\te.cancelBubble = true;\n\t\t};\n\t};\n\n\taddEventListener = function ( type, listener ) {\n\t\tvar element = this, listeners, i;\n\n\t\tlisteners = element.listeners || ( element.listeners = [] );\n\t\ti = listeners.length;\n\n\t\tlisteners[i] = [ listener, function (e) {\n\t\t\tlistener.call( element, new Event( e, element ) );\n\t\t}];\n\n\t\telement.attachEvent( 'on' + type, listeners[i][1] );\n\t};\n\n\tremoveEventListener = function ( type, listener ) {\n\t\tvar element = this, listeners, i;\n\n\t\tif ( !element.listeners ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlisteners = element.listeners;\n\t\ti = listeners.length;\n\n\t\twhile ( i-- ) {\n\t\t\tif ( listeners[i][0] === listener ) {\n\t\t\t\telement.detachEvent( 'on' + type, listeners[i][1] );\n\t\t\t}\n\t\t}\n\t};\n\n\twindow.addEventListener = document.addEventListener = addEventListener;\n\twindow.removeEventListener = document.removeEventListener = removeEventListener;\n\n\tif ( 'Element' in window ) {\n\t\tElement.prototype.addEventListener = addEventListener;\n\t\tElement.prototype.removeEventListener = removeEventListener;\n\t} else {\n\t\thead = document.getElementsByTagName('head')[0];\n\t\tstyle = document.createElement('style');\n\n\t\thead.insertBefore( style, head.firstChild );\n\n\t\tstyle.styleSheet.cssText = '*{-ms-event-prototype:expression(!this.addEventListener&&(this.addEventListener=addEventListener)&&(this.removeEventListener=removeEventListener))}';\n\t}\n\n\taddEventListener.simulant = true;\n}\n","import ancient from './modes/ancient.js';\nimport legacy from './modes/legacy.js';\nimport modern from './modes/modern.js';\nimport polyfill from './utils/polyfill.js';\n\nvar simulant;\n\ntry {\n\tnew MouseEvent( 'click' );\n\tsimulant = modern();\n} catch ( err ) {\n\tif ( !document.createEvent ) {\n\t\tif ( document.createEventObject ) {\n\t\t\tsimulant = ancient();\n\t\t} else {\n\t\t\tthrow new Error( 'Events cannot be created in this browser' );\n\t\t}\n\t} else {\n\t\tsimulant = legacy();\n\t}\n}\n\nif ( document.dispatchEvent ) {\n\tsimulant.fire = function ( node, event, params ) {\n\t\tif ( typeof event === 'string' ) {\n\t\t\tevent = simulant( event, params );\n\t\t}\n\n\t\tnode.dispatchEvent( event );\n\t\treturn event;\n\t};\n} else if ( document.fireEvent ) {\n\tsimulant.fire = function ( node, event, params ) {\n\t\tif ( typeof event === 'string' ) {\n\t\t\tevent = simulant( event, params );\n\t\t}\n\n\t\tnode.fireEvent( 'on' + event.type, event );\n\n\t\t// Special case - checkbox inputs\n\t\tif ( node.tagName === 'INPUT' && node.type === 'checkbox' ) {\n\t\t\tnode.click();\n\t\t}\n\t\treturn event;\n\t};\n}\n\nsimulant.polyfill = polyfill;\n\nexport default simulant;\n"],"names":["const","let"],"mappings":"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"}